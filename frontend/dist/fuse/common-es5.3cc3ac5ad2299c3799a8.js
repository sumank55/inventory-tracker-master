function _classCallCheck(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(r,e){for(var a=0;a<e.length;a++){var t=e[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}function _createClass(r,e,a){return e&&_defineProperties(r.prototype,e),a&&_defineProperties(r,a),r}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{zRpe:function(r,e,a){"use strict";a.d(e,"a",(function(){return p})),a.d(e,"b",(function(){return m}));var t=a("3Pt+"),n=a("0IaG"),o=a("fXoL"),i=a("hxas"),s=a("dNgK"),c=a("XiUz"),l=a("kmnG"),d=a("qFsG"),u=a("ofXK"),f=a("bTqV");function b(r,e){1&r&&(o.Wb(0,"mat-error"),o.Gc(1," Passwords do not match "),o.Vb())}var p=function(){var r=function(){function r(e,a,t,n,o){_classCallCheck(this,r),this.api=e,this._snackBar=a,this._formBuilder=t,this.dialogRef=n,this.data=o,this.matcher=new m}return _createClass(r,[{key:"ngOnInit",value:function(){this.changForm=this._formBuilder.group({current_password:["",t.s.required],new_password:["",t.s.required],confirmPassword:["",t.s.required]},{validator:this.checkPasswords})}},{key:"checkPasswords",value:function(r){return r.get("new_password").value===r.get("confirmPassword").value?null:{notSame:!0}}},{key:"submit",value:function(){var r=this;this.api.me.resetPwd(this.changForm.value).promise().then((function(e){r._snackBar.open("Password reset successfully!","Success",{duration:3e3,horizontalPosition:"right",verticalPosition:"top"}),r.dialogRef.close()})).catch((function(e){var a=null;"current_password"in e.error?a=e.error.current_password:"new_password"in e.error&&(a=e.error.new_password);var t=a.join("\n");r._snackBar.open(t,"Error",{duration:5e3,horizontalPosition:"right",verticalPosition:"top"})}))}},{key:"cancel",value:function(){this.dialogRef.close()}}]),r}();return r.\u0275fac=function(e){return new(e||r)(o.Qb(i.a),o.Qb(s.a),o.Qb(t.c),o.Qb(n.e),o.Qb(n.a))},r.\u0275cmp=o.Kb({type:r,selectors:[["app-change-password"]],decls:26,vars:5,consts:[["mat-dialog-title","",1,"change-pwd-header"],[1,"mat-typography"],["name","loginForm","fxLayout","column","novalidate","",1,"p-20",2,"width","400px",3,"formGroup","ngSubmit"],["appearance","outline","fxFlex","100"],["matInput","","type","password","formControlName","current_password"],["matInput","","type","password","formControlName","new_password"],["matInput","","type","password","formControlName","confirmPassword",3,"errorStateMatcher"],[4,"ngIf"],["fxLayout","row"],["fxFlexOffset","10","fxFlex","30","mat-raised-button","","color","primary","aria-label","LOGIN",1,"submit-button","m-10",2,"height","40px",3,"disabled"],["fxFlexOffset","20","fxFlex","30","mat-raised-button","","color","primary","aria-label","LOGIN",1,"submit-button","m-10",2,"height","40px",3,"disabled","click"]],template:function(r,e){1&r&&(o.Wb(0,"h2",0),o.Gc(1,"Change Password"),o.Vb(),o.Wb(2,"mat-dialog-content",1),o.Wb(3,"form",2),o.ec("ngSubmit",(function(r){return e.submit()})),o.Wb(4,"mat-form-field",3),o.Wb(5,"mat-label"),o.Gc(6,"Old Password"),o.Vb(),o.Rb(7,"input",4),o.Wb(8,"mat-error"),o.Gc(9," Old Password is required "),o.Vb(),o.Vb(),o.Wb(10,"mat-form-field",3),o.Wb(11,"mat-label"),o.Gc(12,"Password"),o.Vb(),o.Rb(13,"input",5),o.Wb(14,"mat-error"),o.Gc(15," Old Password is required "),o.Vb(),o.Vb(),o.Wb(16,"mat-form-field",3),o.Wb(17,"mat-label"),o.Gc(18,"Confirm Password"),o.Vb(),o.Rb(19,"input",6),o.Ec(20,b,2,0,"mat-error",7),o.Vb(),o.Wb(21,"div",8),o.Wb(22,"button",9),o.Gc(23," Save "),o.Vb(),o.Wb(24,"button",10),o.ec("click",(function(r){return e.cancel()})),o.Gc(25," Cancel "),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&r&&(o.Db(3),o.oc("formGroup",e.changForm),o.Db(16),o.oc("errorStateMatcher",e.matcher),o.Db(1),o.oc("ngIf",e.changForm.hasError("notSame")),o.Db(2),o.oc("disabled",e.changForm.invalid),o.Db(2),o.oc("disabled",e.changForm.invalid))},directives:[n.f,n.c,t.t,t.m,c.d,t.g,l.b,c.a,l.e,d.a,t.b,t.l,t.f,l.a,u.t,f.a,c.b],styles:[".change-pwd-header{background:#75a6c9;padding:20px}.Change-Password,.change-pwd-header{text-align:center;color:#fff;font-weight:700}.Change-Password{height:29px;font-family:Roboto;font-size:24px;font-stretch:normal;font-style:normal;line-height:1.21;letter-spacing:normal}.mat-dialog-container{padding:0!important;overflow-x:hidden}"],encapsulation:2}),r}(),m=function(){function r(){_classCallCheck(this,r)}return _createClass(r,[{key:"isErrorState",value:function(r,e){return!!(r&&r.invalid&&r.parent.dirty)||!!(r&&r.parent&&r.parent.invalid&&r.parent.dirty)}}]),r}()}}]);