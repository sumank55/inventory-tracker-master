(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{zRpe:function(r,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return h}));var e=a("3Pt+"),o=a("0IaG"),n=a("fXoL"),s=a("hxas"),i=a("dNgK"),c=a("XiUz"),d=a("kmnG"),l=a("qFsG"),b=a("ofXK"),m=a("bTqV");function p(r,t){1&r&&(n.Wb(0,"mat-error"),n.Gc(1," Passwords do not match "),n.Vb())}let u=(()=>{class r{constructor(r,t,a,e,o){this.api=r,this._snackBar=t,this._formBuilder=a,this.dialogRef=e,this.data=o,this.matcher=new h}ngOnInit(){this.changForm=this._formBuilder.group({current_password:["",e.s.required],new_password:["",e.s.required],confirmPassword:["",e.s.required]},{validator:this.checkPasswords})}checkPasswords(r){return r.get("new_password").value===r.get("confirmPassword").value?null:{notSame:!0}}submit(){this.api.me.resetPwd(this.changForm.value).promise().then(r=>{this._snackBar.open("Password reset successfully!","Success",{duration:3e3,horizontalPosition:"right",verticalPosition:"top"}),this.dialogRef.close()}).catch(r=>{let t=null;"current_password"in r.error?t=r.error.current_password:"new_password"in r.error&&(t=r.error.new_password);const a=t.join("\n");this._snackBar.open(a,"Error",{duration:5e3,horizontalPosition:"right",verticalPosition:"top"})})}cancel(){this.dialogRef.close()}}return r.\u0275fac=function(t){return new(t||r)(n.Qb(s.a),n.Qb(i.a),n.Qb(e.c),n.Qb(o.e),n.Qb(o.a))},r.\u0275cmp=n.Kb({type:r,selectors:[["app-change-password"]],decls:26,vars:5,consts:[["mat-dialog-title","",1,"change-pwd-header"],[1,"mat-typography"],["name","loginForm","fxLayout","column","novalidate","",1,"p-20",2,"width","400px",3,"formGroup","ngSubmit"],["appearance","outline","fxFlex","100"],["matInput","","type","password","formControlName","current_password"],["matInput","","type","password","formControlName","new_password"],["matInput","","type","password","formControlName","confirmPassword",3,"errorStateMatcher"],[4,"ngIf"],["fxLayout","row"],["fxFlexOffset","10","fxFlex","30","mat-raised-button","","color","primary","aria-label","LOGIN",1,"submit-button","m-10",2,"height","40px",3,"disabled"],["fxFlexOffset","20","fxFlex","30","mat-raised-button","","color","primary","aria-label","LOGIN",1,"submit-button","m-10",2,"height","40px",3,"disabled","click"]],template:function(r,t){1&r&&(n.Wb(0,"h2",0),n.Gc(1,"Change Password"),n.Vb(),n.Wb(2,"mat-dialog-content",1),n.Wb(3,"form",2),n.ec("ngSubmit",(function(r){return t.submit()})),n.Wb(4,"mat-form-field",3),n.Wb(5,"mat-label"),n.Gc(6,"Old Password"),n.Vb(),n.Rb(7,"input",4),n.Wb(8,"mat-error"),n.Gc(9," Old Password is required "),n.Vb(),n.Vb(),n.Wb(10,"mat-form-field",3),n.Wb(11,"mat-label"),n.Gc(12,"Password"),n.Vb(),n.Rb(13,"input",5),n.Wb(14,"mat-error"),n.Gc(15," Old Password is required "),n.Vb(),n.Vb(),n.Wb(16,"mat-form-field",3),n.Wb(17,"mat-label"),n.Gc(18,"Confirm Password"),n.Vb(),n.Rb(19,"input",6),n.Ec(20,p,2,0,"mat-error",7),n.Vb(),n.Wb(21,"div",8),n.Wb(22,"button",9),n.Gc(23," Save "),n.Vb(),n.Wb(24,"button",10),n.ec("click",(function(r){return t.cancel()})),n.Gc(25," Cancel "),n.Vb(),n.Vb(),n.Vb(),n.Vb()),2&r&&(n.Db(3),n.oc("formGroup",t.changForm),n.Db(16),n.oc("errorStateMatcher",t.matcher),n.Db(1),n.oc("ngIf",t.changForm.hasError("notSame")),n.Db(2),n.oc("disabled",t.changForm.invalid),n.Db(2),n.oc("disabled",t.changForm.invalid))},directives:[o.f,o.c,e.t,e.m,c.d,e.g,d.b,c.a,d.e,l.a,e.b,e.l,e.f,d.a,b.t,m.a,c.b],styles:[".change-pwd-header{background:#75a6c9;padding:20px}.Change-Password,.change-pwd-header{text-align:center;color:#fff;font-weight:700}.Change-Password{height:29px;font-family:Roboto;font-size:24px;font-stretch:normal;font-style:normal;line-height:1.21;letter-spacing:normal}.mat-dialog-container{padding:0!important;overflow-x:hidden}"],encapsulation:2}),r})();class h{isErrorState(r,t){return!!(r&&r.invalid&&r.parent.dirty)||!!(r&&r.parent&&r.parent.invalid&&r.parent.dirty)}}}}]);